<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Management System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script>
      function confirmDelete(user_id){
var confirmation=confirm("Are you sure you want to delete this user?")
if (confirmation){
  var form =document.createElement("form");
  form.method="POST";
  form.action="/deleteuser/"+user_id;
  document.body.appendChild(form);
  form.submit();

}
      }
    </script>
</head>

<body>
    <div class="my-5 text-center">
<button type="button" class="btn btn-primary">
    <a  class="text-white" href="{{url_for('main.add_user')}}" >Add User</a>
</button>
<br/>
<div class="w-70 d-flex p-5">
    <table class="table">
        <thead>
          <tr>
            <th scope="col">Id</th>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {%for item in data %}

          <tr>
            <th scope="row">{{item.id}}</th>
            <td>{{item.name}}</td>
            <td>{{item.email}}</td>
            <td>
                <a href="/edituser/{{item.id}}"><button class="btn btn-success">Edit</button></a>  |
                <button class="btn btn-danger" type="button" onclick="confirmDelete(`{{item.id}}`)">Delete</button>
            </td>
          </tr>
          {%endfor%}

          
        </tbody>
      </table>
</div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>

</html>